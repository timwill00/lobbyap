<div class="container">
<form [formGroup]="addPlayerForm" (ngSubmit)="addplayer()" >
        <div class="form-group row">
          <label for="inputname" class="col-sm-2 col-form-label">Name</label>
          <div class="col-sm-10">
            <input formControlName="name" type="text" class="form-control" id="inputname" ngModel [ngClass]="{ 'is-invalid': submitted && f.name.errors }">
            <div *ngIf="submitted && f.name.errors" class="invalid-feedback">
              <div *ngIf="f.name.errors.required">Name is required</div>
          </div>
          </div>
        </div>
        <div class="form-group row">
                <label for="inputrank" class="col-sm-2 col-form-label">Rank</label>
                <div class="col-sm-10">
                  <select formControlName="rank" class="form-control" id="inputrank" ngModel [ngClass]="{ 'is-invalid': submitted && f.rank.errors }">
                      <option value=""></option>
                      <option value="1">Rank 1</option>
                      <option value="2">Rank 2</option>
                      <option value="3">Rank 3</option>
                      <option value="4">Rank 4</option>
                      <option value="5">Rank 5</option>
                      <option value="6">Rank 6</option>
                      <option value="7">Rank 7</option>
                      <option value="8">Rank 8</option> 
                      <option value="9">Rank 9</option>
                      <option value="10">Rank 10</option>
                  </select>
                  <div *ngIf="submitted && f.rank.errors" class="invalid-feedback">
                    <div *ngIf="f.rank.errors.required">Rank is required</div>
                </div>
              </div>
        </div>
        <div class="form-group row">
          <label for="score" class="col-sm-2 col-form-label">Score</label>
          <div class="col-sm-10">
            <input formControlName="score" class="form-control" id="score" ngModel>
          </div>
        </div>
        <div class="form-group row">
          <label for="time" class="col-sm-2 col-form-label">Time</label>
          <div class="col-sm-10">
            <input formControlName="time" class="form-control" id="time" ngModel>
          </div>
        </div>
        <div class="form-group row">
          <label for="game" class="col-sm-2 col-form-label">Favourite Game</label>
          <div class="col-sm-10">
            <select formControlName="favouriteGame" class="form-control" id="game" ngModel>
                <option value="" selected>Select a Game</option>
                <option *ngFor="let game of games" 
                [value]="game.title">
                {{game.title}}
                </option>
              </select>
          </div>
        </div>
        <div class="form-group row">
          <label for="status" class="col-sm-2 col-form-label">Status</label>
          <div class="col-sm-10">
            <select formControlName="status" class="form-control" id="status" ngModel [ngClass]="{ 'is-invalid': submitted && f.status.errors }">
                <option value="">Select a Status</option>
                <option value="Available">Available</option>
                <option value="Unavailable">Unavailable</option>
            </select>
              <div *ngIf="submitted && f.status.errors" class="invalid-feedback">
              <div *ngIf="f.status.errors.required">Status is required</div>
          </div>
        </div>
        </div>
        <div class="form-group row">
            <label for="filePath" class="col-sm-2 col-form-label">Upload Image</label>
            <div class="col-sm-10">
                <input formControlName="filePath" type="file" class="form-control" id="filePath" (change)="fileProgress($event)" ngModel >
                <div *ngIf="fileUploadProgress">
                    Upload progress: {{ fileUploadProgress }}
                </div>
                <div class="image-preview mb-3" *ngIf="previewUrl">
                    <img [src]="previewUrl" height="300" />                 
                </div>
                <div class="mb-3" *ngIf="uploadedFilePath">
                    {{uploadedFilePath}}
                </div>
            </div>
          </div>
          
        <div class="form-group row">
          <div class="offset-8 col-sm-4 d-inline-block">
            <button type="submit" class="btn btn-primary ">Save</button>
            <button class="btn btn-secondary" type="reset" (click)="onReset()">Cancel</button>
          </div>
        </div>
  </form>
